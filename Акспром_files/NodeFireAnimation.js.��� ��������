/* File Created: сентября 28, 2013 */
function _NF(){Array.prototype.NFisArray=1;this.u=this.util=new function(){this.string=new function(){this.capitalize=function(i){if(0<i.length)return i.substring(0,1).toUpperCase()+i.substring(1)}};this.object=new function(){var i=this;i.clone=function(b,a){if(!b||"object"!=typeof b||b.nodeType)return b;var a=a||[],c;for(c in a)if(b==a[c])return b;a.push(b);var d=b.NFisArray?[]:{};for(c in b)d[c]=i.clone(b[c],a);return d};i.convertAttributeToObject=function(b,a){b=b.getAttribute(a,2);return eval("("+b+")")||{}}};this.d=this.dom=new function(){function i(a){return RegExp("\\b"+a+"\\b","g")}var b=this;b.addClass=b.aC=function(a,c){var d;if(a&&"string"==typeof(d=a.className)&&0>d.search(i(c)))return a.className+=(d?" ":"")+c,a.className=a.className.replace(/\s{2,}/g," "),!0};b.removeClass=b.rC=function(a,c){if(a&&"string"==typeof a.className){var d=a.className;a.className=a.className.replace(i(c),"");return d!=a.className}};b.hasClass=b.hC=function(a,c,d){c.NFisArray||(c=[c]);var b,e=0,k=c.length;if(a&&(b=a.className)){for(a=0;a<k;a++)if(i(c[a]).test(b)){if(!d||1==k)return c[a];e++}if(d&&e==k)return c}};b.isDescendant=b.iD=function(a,c){if(a&&c)for(;c=c.parentNode;)if(c==a)return!0};b.isRelation=function(a,c){if(a&&c){if(b.iD(a,c))return"ancestor";if(b.iD(c,a))return"descendant"}};b.getElementsByClassName=b.getNodesByClassName=b.gEBCN=function(a,c,d,g,e){var k=[];if(a.getElementsByClassName)for(var c=a.getElementsByClassName(c),l=0;l<c.length;l++)(!g||c[l].parentNode==a)&&(!e||!c[l][e])&&k.push(c[l]);else if(a.getElementsByTagName)for(var f=a.getElementsByTagName("*"),l=0;l<f.length;l++)b.hC(f[l],c.split(" "),!0)&&(!g||f[l].parentNode==a)&&(!e||!f[l][e])&&k.push(f[l]);return d&&k.length?k[0]:k||[]};b.getSibling=function(a,c,d,g,e){for(;a=a[c+"Sibling"];)if((!d||b.hC(a,d))&&(!g||a.tagName.toLowerCase()==g.toLowerCase())&&(!e||e(a)))return a};b.addChild=function(a,c,d){var b;return a.match("first")&&(b=d.childNodes).length?d.insertBefore(c,b[0]):d.appendChild(c)};b.getFullOffset=function(a,c){var d={x:0,y:0},b=0;do!NF.u.b.firefox&&b&&(d.x+=a.clientLeft,d.y+=a.clientTop),d.x+=a.offsetLeft-(a.scrollLeft||0),d.y+=a.offsetTop-(a.scrollTop||0),b++;while(a=a.offsetParent);if(c){NF.u.b.firefox&&(d.x-=c.clientLeft,d.y-=c.clientTop);do NF.u.b.firefox||(d.x-=c.clientLeft,d.y-=c.clientTop),d.x-=c.offsetLeft-(c.scrollLeft||0),d.y-=c.offsetTop-(c.scrollTop||0);while(c=c.offsetParent)}return d}};this.c=this.css=new function(){this.getBrowserSpecifcStyleName=function(i){var b=i,a="";if(NF.u.b.ie8Down)b="";else{for(var c=document.createElement("DIV"),d=" Moz Webkit ms O Khtml".split(" "),g=" -moz- -webkit- -ms- -o- -khtml-".split(" "),e=0;e<d.length;e++)if(b=d[e],b+=!d[e]?i:NF.util.string.capitalize(i),"undefined"!=typeof c.style[b]){a=g[e];break}delete c}return{styleName:b,cssPrefix:a}};this.addSheet=function(i){var b=document,a=b.createElement("style");b.getElementsByTagName("head")[0].appendChild(a);i&&(NF.u.browser.ie8Down?a.styleSheet.cssText=i:a.appendChild(b.createTextNode(i)));return b.styleSheets[b.styleSheets.length-1]}};this.b=this.browser=new function(){var i=window,b=navigator.userAgent,a=b.toLowerCase();this.smallMobile=(this.mobile=a.match("mobile"))&&1<i.devicePixelRatio;this.ipad=a.match("ipad");this.ios=a.match("like mac");this.android=a.match("android");this.ie7=(this.ie=i.showHelp)&&b.match("MSIE 7");this.ie8=this.ie&&b.match("MSIE 8");this.ie9=this.ie&&b.match("MSIE 9");this.ie9Up=this.ie&&b.match("MSIE 1")||this.ie9;this.ie6Down=this.ie&&!i.XMLHttpRequest;this.ie7Down=this.ie7||this.ie6Down;this.ie8Down=this.ie8||this.ie7Down;this.ie9Down=this.ie9||this.ie8Down;this.firefox="undefined"!==typeof InstallTrigger||(this.chromeURI=!!location.href.match(/chrome\:/i));this.chrome=a.match("chrome");this.safari=!this.chrome&&a.match("safari");this.opera=a.match("opera");this.webkit=a.indexOf("webkit")+1;this.no3d=this.ie9Down||this.opera;this.noCSS3=this.ie8Down;this.hasStyle=function(a){for(var d=document.createElement("DIV"),b=" Moz Webkit ms O Khtml".split(" "),e=0;e<b.length;e++)if(null!=d.style[b[e]+(!b[e]?a:NF.u.string.capitalize(a))])return!0}};this.eventStore=function(i){var b={};this.addEvent=function(a,c){b[a]={handle:c}};this.getHandle=function(a){if(a=b[a])return a.handle};this.fire=function(a,c){this.lastEvent={type:a,args:c};c.NFisArray||(c=Array(c));var d;if(d=this.getHandle(a))return d.apply(i,c)}};this.e=this.event=new function(){function i(a){NF.u.browser.opera||NF.u.browser.firefox||NF.u.browser.ie9Up||NF.u.browser.webkit?document.addEventListener("DOMContentLoaded",a,!1):NF.u.browser.ie?(document.write("<script id='NFreadytest' type='text/javascript' defer='defer' src='javascript:void(0)'><\/script>"),document.getElementById("NFreadytest").onreadystatechange=function(){"complete"==this.readyState&&NF.u.e.fire(document,"ready")}):setTimeout(function(){NF.u.e.fire(document,"ready")},1E3)}var b=this;b.loaded;b.addListener=function(a,c,d){if(a){a.NFisArray||(a=[a]);for(var b=0;b<a.length;b++){c&&!c.NFisArray&&(c=[c]);for(var e=0;e<c.length;e++){var k;if(!(k=a[b].NF_eventStore))k=a[b].NF_eventStore=new NF.util.eventStore(a[b]);k.addEvent(c[e],d);"ready"==c[e]&&i(d)}}}};b.addDomListener=function(a,c,d,b,e){if("ready"==c)NF.u.e.addListener(document,c,d);else{b&&(d=function(d){a[b](d)});c.NFisArray||(c=[c]);for(var k=0;k<c.length;k++)a.addEventListener?a.addEventListener(c[k],d,e):a.attachEvent&&a.attachEvent("on"+c[k],d)}};b.addDomListener(window,"load",function(){b.loaded=!0});b.fire=function(a,c,d){var b=a.NF_eventStore;if(b)return d?d.NFisArray?"object"!=typeof d[0]&&(d[0]={}):d=[d]:d=[{}],d[0].type=c,d[0].target=a,b.fire(c,d)}};this.a=this.animate=new function(){var i=this;i.tween=function(b){var a=parseFloat(b.startVal),c=parseFloat(b.endVal),d=b.duration;return a==c||isNaN(a)||isNaN(c)||0==d?b.startVal:i.ease["_"+b.ease.direction][b.ease.type||"_"](b.time,a,c-a,d)};this.ease=new function(){var b=this;b.add=function(a,c,d){b["_"+a][c]=d};b._linear={_:function(a,c,d,b){return d*a/b+c}};b.css_linear={_:"0.250, 0.250, 0.750, 0.750"};b._in={quadratic:function(a,c,d,b){return d*(a/=b)*a+c},cubic:function(a,b,d,g){return d*(a/=g)*a*a+b},quartic:function(a,b,d,g){return d*(a/=g)*a*a*a+b},quintic:function(a,b,d,g){return d*(a/=g)*a*a*a*a+b},sinusoidal:function(a,b,d,g){return-d*Math.cos(a/g*(Math.PI/2))+d+b},exponential:function(a,b,d,g){return 0==a?b:d*Math.pow(2,10*(a/g-1))+b},circular:function(a,b,d,g){return-d*(Math.sqrt(1-(a/=g)*a)-1)+b},elastic:function(a,b,d,g,e,k){e=0;if(0==a)return b;if(1==(a/=g))return b+d;k||(k=0.3*g);e<Math.abs(d)?(e=d,d=k/4):d=k/(2*Math.PI)*Math.asin(d/e);return-(e*Math.pow(2,10*(a-=1))*Math.sin((a*g-d)*2*Math.PI/k))+b},back:function(a,b,d,g,e){void 0==e&&(e=1.70158);return d*(a/=g)*a*((e+1)*a-e)+b},bounce:function(a,b,d,g){return d-NF.u.a.ease._out.bounce(g-a,0,d,g)+b}};b.css_in={quadratic:"0.550, 0.085, 0.680, 0.530",cubic:"0.550, 0.055, 0.675, 0.190",quartic:"0.895, 0.030, 0.685, 0.220",quintic:"0.755, 0.050, 0.855, 0.060",sinusoidal:"0.470, 0.000, 0.745, 0.715",exponential:"0.950, 0.050, 0.795, 0.035",circular:"0.600, 0.040, 0.980, 0.335",back:"0.600, -0.280, 0.735, 0.045"};b._out={quadratic:function(a,b,d,g){return-d*(a/=g)*(a-2)+b},cubic:function(a,b,d,g){return d*((a=a/g-1)*a*a+1)+b},quartic:function(a,b,d,g){return-d*((a=a/g-1)*a*a*a-1)+b},quintic:function(a,b,d,g){return d*((a=a/g-1)*a*a*a*a+1)+b},sinusoidal:function(a,b,d,g){return d*Math.sin(a/g*(Math.PI/2))+b},exponential:function(a,b,d,g){return a==g?b+d:d*(-Math.pow(2,-10*a/g)+1)+b},circular:function(a,b,d,g){return d*Math.sqrt(1-(a=a/g-1)*a)+b},elastic:function(a,b,d,g,e,k){e=0;if(0==a)return b;if(1==(a/=g))return b+d;k||(k=0.3*g);if(e<Math.abs(d))var e=d,l=k/4;else l=k/(2*Math.PI)*Math.asin(d/e);return e*Math.pow(2,-10*a)*Math.sin((a*g-l)*2*Math.PI/k)+d+b},back:function(a,b,d,g,e){void 0==e&&(e=1.70158);return d*((a=a/g-1)*a*((e+1)*a+e)+1)+b},bounce:function(a,b,d,g){return(a/=g)<1/2.75?d*7.5625*a*a+b:a<2/2.75?d*(7.5625*(a-=1.5/2.75)*a+0.75)+b:a<2.5/2.75?d*(7.5625*(a-=2.25/2.75)*a+0.9375)+b:d*(7.5625*(a-=2.625/2.75)*a+0.984375)+b}};b.css_out={quadratic:"0.250, 0.460, 0.450, 0.940",cubic:"0.215, 0.610, 0.355, 1.000",quartic:"0.165, 0.840, 0.440, 1.000",quintic:"0.230, 1.000, 0.320, 1.000",sinusoidal:"0.390, 0.575, 0.565, 1.000",exponential:"0.190, 1.000, 0.220, 1.000",circular:"0.075, 0.820, 0.165, 1.000",back:"0.175, 0.885, 0.320, 1.275"};b._inout={quadratic:function(a,b,d,g){return 1>(a/=g/2)?d/2*a*a+b:-d/2*(--a*(a-2)-1)+b},cubic:function(a,b,d,g){return 1>(a/=g/2)?d/2*a*a*a+b:d/2*((a-=2)*a*a+2)+b},quartic:function(a,b,d,g){return 1>(a/=g/2)?d/2*a*a*a*a+b:-d/2*((a-=2)*a*a*a-2)+b},quintic:function(a,b,d,g){return 1>(a/=g/2)?d/2*a*a*a*a*a+b:d/2*((a-=2)*a*a*a*a+2)+b},sinusoidal:function(a,b,d,g){return-d/2*(Math.cos(Math.PI*a/g)-1)+b},exponential:function(a,b,d,g){return 0==a?b:a==g?b+d:1>(a/=g/2)?d/2*Math.pow(2,10*(a-1))+b:d/2*(-Math.pow(2,-10*--a)+2)+b},circular:function(a,b,d,g){return 1>(a/=g/2)?-d/2*(Math.sqrt(1-a*a)-1)+b:d/2*(Math.sqrt(1-(a-=2)*a)+1)+b},elastic:function(a,b,d,g,e,k){e=0;if(0==a)return b;if(2==(a/=g/2))return b+d;k||(k=g*0.3*1.5);if(e<Math.abs(d))var e=d,l=k/4;else l=k/(2*Math.PI)*Math.asin(d/e);return 1>a?-0.5*e*Math.pow(2,10*(a-=1))*Math.sin((a*g-l)*2*Math.PI/k)+b:0.5*e*Math.pow(2,-10*(a-=1))*Math.sin((a*g-l)*2*Math.PI/k)+d+b},back:function(a,b,d,g,e){void 0==e&&(e=1.70158);return 1>(a/=g/2)?d/2*a*a*(((e*=1.525)+1)*a-e)+b:d/2*((a-=2)*a*(((e*=1.525)+1)*a+e)+2)+b},bounce:function(a,b,d,g){return a<g/2?0.5*NF.u.a.ease._in.bounce(2*a,0,d,g)+b:0.5*NF.u.a.ease._out.bounce(2*a-g,0,d,g)+0.5*d+b}};b.css_inout={quadratic:"0.455, 0.030, 0.515, 0.955",cubic:"0.645, 0.045, 0.355, 1.000",quartic:"0.770, 0.000, 0.175, 1.000",quintic:"0.860, 0.000, 0.070, 1.000",sinusoidal:"0.445, 0.050, 0.550, 0.950",exponential:"1.000, 0.000, 0.000, 1.000",circular:"0.785, 0.135, 0.150, 0.860",back:"0.680, -0.550, 0.265, 1.550"}}}}}var NF=new _NF;_NF.prototype.stageManager=new function(){function i(e){if(!(e&&e.target!=document)){d.transSupport=!NF.mini&&NF.u.browser.hasStyle("transition");e=NF.u.e.addDomListener;e(document,"mouseup",b);e(document,"mousedown",a);e=".nfStage {"+(NF.u.b.webkit?"-webkit-backface-visibility:hidden;":"")+"cursor:default;position:relative;user-select:none;-webkit-user-select:none;-moz-user-select:none;-o-user-select:none;-ms-user-select:none;background-color:#fff;border:solid 1px #333;width:800px;height:400px;font-family:Arial, Verdana, Sans-Serif;font-size:12px;color:#333;font-weight:normal;line-height:normal;}";e+=".nfStage * {cursor:inherit;}.nfCenterBlock {position:absolute;margin:auto;left:0px;right:0px;top:0px;bottom:0px;}";e+=".nfStage, .nfStage .nfA {background-repeat:no-repeat;background-position:center center;background-size:contain;}";e+=".nfStage, .nfStage .nfA, .nfStage .nfA>nfB, .nfBorderBox {box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;-ms-box-sizing:border-box;-o-box-sizing:border-box;box-sizing:border-box;}";e+=".nfStage .nfA {position:absolute;width:auto;height:auto;border:solid 0px #333;background-color:#b2d1f0;background-color:rgba(0,102,204,.3);}";e+=".nfStage .nfA>.nfB {position:relative;width:100%;}";e+=".nfStage .nfA.nfBox, .nfA.nfCircle {width:20px;height:20px;}";e+=".nfStage .nfA.nfGrid>.nfItem {background-color:transparent;}";e+=".nfStage .nfA.nfList>.nfItem {position:relative;padding:5px;}";e+=".nfStage .nfA.nfFloatleft>.nfItem {position:relative;float:left;padding:10px;}";e+=".nfStage .nfA.nfFloatright>.nfItem {position:relative;float:right;padding:10px;}";e+=".nfStage .nfA.nf_menu>.nf_sub, .nfStage.nf_menu>.nf_sub {display:none;z-index:1;}";e+=".nfStage .nfA.nf_hoverMenu.nfDelayHoverLineage>.nf_sub, .nfStage.nf_hoverMenu.nfDelayHoverLineage>.nf_sub, .nfStage .nfA.nf_clickMenu.nfActiveLineage>.nf_sub, .nfStage.nf_clickMenu.nfActiveLineage>.nf_sub, .nfStage .nfA.nf_menu.nfInPlay>.nf_sub{display:block;}";e+=".nfStage .nfRotatorH, .nfStage .nfRotatorV {background-color:transparent;}";e+=".nfStage .nfSlideshowH, .nfStage .nfSlideshowV {overflow:hidden;}";e+=".nfStage .nfSlideshowH>.nfSlideshowFrames, .nfStage .nfSlideshowV>.nfSlideshowFrames {height:100%;width:100%;background-color:transparent;}";e+=".nfStage .nfSlideshowH>.nfSlideshowFrames>.nfItem, .nfStage .nfSlideshowV>.nfSlideshowFrames>.nfItem {top:0px;left:0px;width:100%;height:100%;border:solid 1px #999;}";e+=".nfStage #nfDownLevelContent {display:none;}";e+=".nfStage.nfSpawn, .nfStage .nfSpawn {pointer-events:none;}";NF.u.css.addSheet(e);for(var c=NF.u.d.getNodesByClassName(document,"nfStage"),e=0;e<c.length;e++){var g=NF.u.object.convertAttributeToObject(c[e],"data-nfw");"stage"==g.type&&(new NF.stage(c[e],g)).create()}for(e in d.stages)if((c=d.stages[e].params.browsers)&&(c.css3&&NF.u.browser.noCSS3||c.css3D&&NF.u.browser.no3d)){c=d.stages[e].root.children;for(g=0;g<c.length;g++)c[g].style.display="nfDownLevelContent"==c[g].id?"block":"none"}else d.stages[e].params.autoRun&&d.playEvent(d.stages[e],"ready")}}function b(a){for(var b in d.hold)NF.u.d.rC(d.hold[b],"nfHold");d.hold=null;c(a.target||a.srcElement,["click"]);c(a.target||a.srcElement,["mousehold"],!0)}function a(a){c(a.target||a.srcElement,["mousedown","active"])}function c(a,b,c){for(;a;){if(a.nfUid&&!c)return;a=a.parentNode}for(a=0;a<b.length;a++)for(var f in d.stages)d.stages[f].BF||(d.stages[f].stopActionTimelines(b[a],null),"active"==b[a]&&d.setElementActive())}var d=this;d.stages={};d.curStage;d.activeElm;d.transSupport;d.classDefs={_0:"Stage",_1:"Box",_2:"Circle",_3:"Grid",_4:"List",_5:"Floatleft",_6:"Floatright",_7:"RotatorH",_8:"RotatorV",_9:"Item",_10:"SlideshowH",_11:"SlideshowV",_12:"Frames"};d.cds={_9:1};var g=window;g.requestAnimationFrame=g.requestAnimationFrame||g.mozRequestAnimationFrame||g.webkitRequestAnimationFrame||g.msRequestAnimationFrame;g.cancelAnimationFrame=g.cancelAnimationFrame||g.mozCancelAnimationFrame||g.webkitCancelAnimationFrame||g.msCancelAnimationFrame;g.NFXULPreview||NF.u.e.addListener(document,"ready",i);NF.u.e.addDomListener(window,"load",function(){window.NFXULPreview&&i();var a=d.stages,b;for(b in a)a[b].params.autoRun&&d.playEvent(a[b],"load")});this.setElementActive=function(a,b){var c=d.activeElm;d.activeElm&&c.element!=b&&c.stage.setElementInactive(c.element);if(null!=a){if(!c||c.element!=b)a.setElementActive(b),d.activeElm={stage:a,element:b}}else d.activeElm=null};this.add=function(a){d.stages[a.root.nfUid]=a;d.curStage=a};this.playEvent=function(a,b,d,f,c){if(a=a.data.events[b])for(var g in a.timelines)if(!(d&&d!=g)){if(null!=c){var b=a.timelines[g],i=c;i>b.framePos.max&&(i=b.framePos.max);b.setTime(b.getTime(i))}a.timelines[g][f||"play"]()}};this.debug=new function(){function a(){if(!d.root){var b=document.createElement("TEXTAREA"),c=b.style;c.position="absolute";c.top="5px";c.left="5px";c.color="#000";c.backgroundColor="rgb(255,255,255)";c.border="solid 2px #333";c.fontFamily="Arial";c.fontSize="12px";c.padding="5px";c.overflow="auto";c.height="58px";c.width="40%";c.minWidth="40px";c.zIndex=999999;c.boxShadow="1px 1px 5px #222";document.body.appendChild(b);d.root=b;NF.u.e.addDomListener(b,"dblclick",function(a){d.root.value="";a.target.style.display="none";d.errorLog=[]});NF.u.e.addDomListener(b,"mousedown",function(){clearTimeout(d.hideTimer)})}return d.root}function b(c){clearTimeout(d.hideTimer);c?a().style.display="none":d.hideTimer=setTimeout(function(){b(!0)},1E4)}var d=this;d.root;d.errorLog=[];d.logEnabled;d.hideTimer;this.show=function(d){var c=a();c.style.display="block";c.value=d+"\n\n/*Double click to hide this message.*/";b()};this.enableLog=function(){d.logEnabled=!0};this.logError=function(c,g){if(d.logEnabled||g&&g.logEnabled){d.errorLog.push(c);var i=a();i.style.display="block";i.scrollTop=0;i.value=d.errorLog.length+":\t"+c+(i.value?"\n"+i.value:"\n\n/*Double click to hide this message.*/");b()}}}};_NF.prototype.stage=function(i,b){function a(a){if(a.loadCount==a.images.length)return a=a.nfUid,h.elements[a]&&k(h.elements[a],"preloadelement","play",h.elements[a]),p.count++,p.count==p.elmCount&&m.playEvent(h,"preloadall"),!0}function c(a){n[a]||(n[a]={nfUid:a,raw:"",images:[],loadCount:0},p.elmCount++);return n[a]}function d(a,b,d){for(var j in a)if("d"!=j){var f=a[j],e=b.addElement(h.elements[(d.data.elmOrder[j]&&d.data.elmOrder[j].rule?"":"NodeFire")+j]),n;for(n in f){var m=f[n];if("d"!=n){var p=e.addStyle(h.getStyleDefNode(n,"_")),x=p.styleDefNode,i;for(i in m){var k=m[i];if("d"!=i){"string"==typeof k.v&&(k.v=g(k.v,!0));var r=k.p||{},l=r.e?{direction:r.e.d,type:r.e.t}:{direction:"linear",type:"_"},y="def"==i?0:parseInt(i.substring(1));p.addKey(k.v,{uid:i,unit:r.unit,framePos:y,ease:l},i);x.data.isImage&&k.v&&(r=c("NodeFire"+j),-1==r.raw.indexOf(k.v)&&(r.raw+=k.v,r.images.push(k.v)))}else p.options=k.opt||{}}}else e.cust=m.cust,e.options=m.opt||{}}}else b.options=a.d.o||{}}function g(a,b){if((h.BF||b)&&a)a=a.replace(/\&\#10\;/g,"\n"),a=a.replace(/\&\#13\;/g,"\r");return a}function e(a){var b=NF.u.e.addDomListener;b(a,"mouseover",function(b){h.handle_mouseover(b,a)});b(a,"mouseout",function(b){h.handle_mouseout(b,a)});b(a,"mousedown",function(b){h.handle_mousedown(b,a)});b(a,"click",function(b){h.handle_click(b,a)})}function k(a,b,c,j){var f=a.nfTimelines,e;if(f&&(e=f[b])){if(j!=a){if(!(b=f[b+"$"+j.nfUid]))b=e.parentObj.addTimeline(a,j,e),NF.mini?NF.mini.buildThread(e,b,h.BF):d(e.data,b,h.params.data);e=b}e.targElm=j||a;a=e.options;"stop"==c?a.rev?c="reverse":a.pauseOnEnd&&(c="pause"):"play"==c&&(a.resetOnResume&&e.inPlay)&&e.stop();e[c]();return!0}}function l(a,b,d,j,c){do if(!j||!("descendant"==NF.u.d.isRelation(j,b)||j==b)){var e=b.nfTimelines;if(e&&e[a]&&(!c||!e[a].options.block||!e[a].isPlaying()))(!h.act[a][a][b.nfUid]||d)&&f(e[a].parentObj.actType,b,b,d);for(var g=b;g!=h.root&&(g=g.parentNode);){var e=g.nfTimelines,n;for(n in e){var m=e[n].parentObj.actType;if(m.base==a&&(m.isChildren||m.className)&&(!h.act[m.base][n.split("$")[0]][b.nfUid]||d)&&!(m.isChildren&&b.parentNode!=g))if(!m.className||NF.u.d.hC(b,m.className))(!c||!e[n].options.block||!e[n].isPlaying())&&f(m,g,b,d)}}}while(b!=h.root&&(b=b.parentNode))}function f(a,b,d,j){j&&k(b,a.uid,"stop",d);if((j||!h.act[a.base][a.uid][d.nfUid])&&k(b,a.uid,"play",d))h.act[a.base][a.uid][d.nfUid]={tElm:d,eElm:b}}function q(a,b){do if(null!=a.nfOptions[b])return a.nfOptions[b];while(a!=h.root&&(a=a.parentNode));return 0}function s(a){if((!h.editor||!h.editor.designMode)&&!h.BF||a)return!0}function v(a){h.stopActionTimelines("mouseout",a,!0);NF.u.d.aC(a,"nfDelayHover");for(var b=a;b&&b.nfUid;)u(b,!0),NF.u.d.aC(b,"nfDelayHoverLineage"),b=b.parentNode;l("mouseover",a)}function u(a,b){if(a.nfPoo)for(var d in a.nfPoo){var j=a.nfPoo[d];j.eventElement==a&&(b?j.pause():!j.atEnd()||j.options.loop?j.play():delete a.nfPoo[d],NF.u.e.fire(h,b?"pausedOnOver":"resumedOnOut",{timeline:j}))}}function x(a){h.stopActionTimelines("mouseover",a);for(var b in h.dly.elms){var d=h.dly.elms[b];d!=a&&NF.u.d.rC(d,"nfDelayHover");for(var j=!1;d&&d.nfUid&&d!=a&&!NF.u.d.isDescendant(d,a);)u(d),j||l("mouseout",d,null,a),j=!0,NF.u.d.rC(d,"nfDelayHoverLineage"),d=d.parentNode}h.dly.elms={}}function r(a){for(m.hold={};a&&a!=h.root;)m.hold[a.nfUid]=a,NF.u.d.aC(a,"nfHold"),a=a.parentNode}var h=this;var _this=this;h.root=i;h.nfUid;h.data;h.styleDefs;h.params=b;h.elements={};h.seoElements={};h.act={};h.my={};h.rules={};h.sheet;h.dly={elms:{}};h.BF=b.bigFace;h.editor=b.editor;h.inGUI=h.BF||h.editor;h.inPlay={};var n={},p={elmCount:0,count:0},m=NF.stageManager,y=NF.stageDataManager;(function(){var a;if(a=b.nfUid)NF.u.d.aC(i,a),i.nfUid=a,b.data=b.data||window[a].data;h.nfUid=i.nfUid;NF.u.d.aC(i,"nfSP1");NF.u.d.aC(i,"nfSP2");NF.u.d.aC(i,"nfSP3");!h.BF&&!h.editor&&NF.u.d.aC(i,"nfPublished");m.add(h);h.sheet=NF.u.css.addSheet();h.data=new NF.stageData(h);h.styleDefs=y.getStyleDefs();h.seoElements[h.nfUid]=i;a=NF.u.d.getNodesByClassName(h.root,"nfA");for(var d=0;d<a.length;d++){var c=NF.u.object.convertAttributeToObject(a[d],"data-nfw");c.nfUid&&(h.seoElements["NodeFire_"+c.nfUid]=a[d],a[d].nfAppended=!0)}a=NF.u.d.getNodesByClassName(h.root,"nfB");for(d=0;d<a.length;d++)a[d].parentNode.nfContentElm=a[d];e(h.root)})();this.applyCSS=function(a,b,d,j,c,e){h.rules[e]?h.rules[e].style[d]=c?"":j:c||(h.sheet.insertRule?(d=h.sheet.cssRules.length||0,h.sheet.insertRule(a+"{"+b+":"+j+";}",d),h.rules[e]=h.sheet.cssRules[d]):(h.sheet.addRule(a,b+":"+j+";"),h.rules[e]=h.sheet.rules[sheet.rules.length-1]))};this.getStyleDefNode=function(a,b){for(var a=a.split(b),d=h.styleDefs[a[0]],j=1;j<a.length;j++)d=d[a[j]];return d};this.create=function(a){a=a||{};if(h.params.data){var b=h.params.data,c=b.data.elmOrder;h.createElement(h.nfUid,b.data);for(var j in c)c[j].rule?h.elements[j]={rule:c[j].rule,sName:c[j].sName,id:c[j].id,nfUid:j,nfUColor:c[j].uColor}:h.createElement("NodeFire"+j,c[j]);b={};for(j in c)if(c=h.elements["NodeFire"+j]){var f;if(!c.nfAppended&&(f=c.nfUidParent))h.elements[f].appendChild(c),NF.u.e.fire(h,"elementAdded",{element:c});b[f]||(b[f]={first:c.nfUid});b[f].last=c.nfUid;e(c)}for(j in b)NF.u.d.aC(h.elements[b[j].first],"nfFirstChild"),NF.u.d.aC(h.elements[b[j].last],"nfLastChild");j=h.params.data;for(var g in j)if("data"!=g){f=h.data.addEvent({nfUid:g});var c=j[g],n;for(n in c)if("d"!=n){var b=c[n],m=f.addTimeline(h.elements["NodeFire"+n]);m.data=b;m.saveData=NF.u.object.clone(b.d);d(b,m,j)}}!h.BF&&!a.noPreload&&h.preloadImages();NF.u.e.fire(h,"stageCreated",{});return!0}};this.preloadImages=function(){p.count=0;var b,d;for(d in n)if(!a(n[d])){b=!0;for(var c=n[d].images,j=0;j<c.length;j++){var e=document.createElement("img");e.trackPreLoads=function(){this.nfImgData.loadCount++;a(this.nfImgData)};e.onload=e.trackPreLoads;e.onerror=e.trackPreLoads;e.onabort=e.trackPreLoads;e.nfImgData=n[d];e.src=c[j]}}b||m.playEvent(h,"preloadall")};this.createElement=function(a,b){if(!h.elements[a]){var d=h.elements["NodeFire"+b.pUid],j=h.seoElements[a];j||(j=document.createElement("DIV"),NF.u.d.aC(j,a),NF.u.d.aC(j,"nfA"),j.id=b.id);if(!j.nfContentElm){var e=g(b.con),f=document.createElement("DIV");NF.u.d.aC(f,"nfB");if(e){var n;n=e?document.createElement("DIV").innerHTML=e:"";f.innerHTML=n}NF.u.d.addChild("first-child",f,j);j.nfContent=e;j.nfContentElm=f}j.nfLink={};if(b.link)for(var p in b.link)j.nfLink[p]=g(b.link[p],!0);j.nfOptions=b.opt?b.opt:{};if(b.cn)for(p in j.nfClass=b.cn,b.cn)NF.u.d.aC(j,p);if(b.c){b.c=b.c.NFisArray?b.c:[b.c];for(p=0;p<b.c.length;p++)NF.u.d.aC(j,"nf"+m.classDefs["_"+b.c[p]])}b.nfElmType&&(j.nfElmType=b.nfElmType);d!=h.root&&NF.u.d.aC(d,"nfParent");j.nfUid=a;j.nfUidParent="NodeFire"+b.pUid;b.uColor&&(j.nfUColor=b.uColor);h.elements[a]=j;a:{n=j.children;for(e=0;e<n.length;e++)if(NF.u.d.hC(n[e],"nfB")){d=n[e].innerHTML.match(/url\(.*\)/ig)||[];for(f=0;f<d.length;f++)d[f]=d[f].replace(/url\(|\)/ig,"");e=n[e].getElementsByTagName("IMG");for(f=0;f<e.length;f++)d.push(e[f].src);if(0<d.length){j=c(j.nfUid);for(e=0;e<d.length;e++)j.images.push(d[e])}break a}}}return h.elements[a]};this.addElmEvents=e;this.executeCode=function(a){if(!a||!h.BF||!a.match(/\.open\(/))try{eval(a)}catch(b){m.debug.logError(b)}};this.stopActionTimelines=function(a,b,d){for(var c in h.act[a]){var e=h.act[a][c],f;for(f in e){var g=e[f].tElm,n=e[f].eElm;if(b!=g||d){var m;if(!b||(!(m=NF.u.d.isRelation(b,g))||"ancestor"==m)&&!d||d&&("descendant"==m||b==g))k(n,c,"stop",g),delete e[f]}}}};this.handle_mouseover=function(a,b,d){if(s(d)){for(var c=a.target||a.srcElement;c&&!c.nfUid;)c=c.parentNode;c&&c==b&&(NF.u.d.aC(c,"nfHover"),clearTimeout(h.dly.over),h.dly.over=d?v(c):setTimeout(function(){v(c)},q(c,"over")),m.hold&&(m.hold[c.nfUid]&&NF.u.d.hC(c,"nf_button"))&&(r(c),l("mousehold",c)))}};this.handle_mouseout=function(a,b,d){if(s(d)){for(var c=a.target||a.srcElement;c&&!c.nfUid;)c=c.parentNode;for(var e=a.toElement||a.relatedTarget,a=e;e&&!e.nfUid;)e=e.parentNode;e=e||a;if(c&&e&&c==b){NF.u.d.rC(c,"nfHover");clearTimeout(h.dly.out);h.dly.elms[c.nfUid]=c;var f,g;for(g in h.dly.elms){f=q(h.dly.elms[g],"out");break}h.dly.out=d?x(e):setTimeout(function(){x(e)},f);if(m.hold&&m.hold[c.nfUid]&&NF.u.d.hC(c,"nf_button")){h.stopActionTimelines("mousehold",e);b=c;for(d=e;b&&b!=h.root;)m.hold[b.nfUid]&&(b!=d&&!NF.u.d.isDescendant(b,d))&&NF.u.d.rC(b,"nfHold"),b=b.parentNode}}}};this.handle_mousedown=function(a,b,d){if(s(d)){for(a=a.target||a.srcElement;a&&!a.nfUid;)a=a.parentNode;a&&a==b&&(r(a),h.stopActionTimelines("mousedown",a),l("mousedown",a,!0,null,!0),l("mousehold",a))}};this.handle_click=function(a,b,d){if(s(d)){for(a=a.target||a.srcElement;a&&!a.nfUid;)a=a.parentNode;if(a&&a==b&&(h.stopActionTimelines("click",a),l("click",a,!0,null,!0),m.setElementActive(h,a),(b=a.nfLink)&&!h.BF&&(!h.editor||!h.editor.designMode)))b.code&&h.executeCode(b.code,a),a={_self:1,_parent:1}[b.where||"_self"],d=h.params.linksWhere,b.link&&window.open(b.link,d&&a?d:b.where||"_self")}};this.setElementInactive=function(a){l("inactive",a);for(NF.u.d.rC(a,"nfActive");a&&a.nfUid;)NF.u.d.rC(a,"nfActiveLineage"),a=a.parentNode};this.setElementActive=function(a){h.stopActionTimelines("active",a);l("active",a);for(NF.u.d.aC(a,"nfActive");a&&a.nfUid;)NF.u.d.aC(a,"nfActiveLineage"),a=a.parentNode}};_NF.prototype.stageDataManager=new function(){function i(b,a,c,d,g,e){a?a.isRoot=!1:(a={isRoot:!0},c="");var e=e||0,k;for(k in b){var l=c+k,f;if(f=b[k].data){f.uid=l;f.order=e++;a.isRoot||(f.parentObj=b,b.data.hasCH=1);if(f.cssName){a.isRoot&&(g=b[k]);d=b[k];f.jsName=f.jsName||k;var q;if(f.vendorSpecific){q=f.vendorSpecific={};var s=NF.u.css.getBrowserSpecifcStyleName(f.jsName);q.js=s.styleName;q.css=s.cssPrefix+f.cssName}else q=f.vendorSpecific={};q.jsName=q.js||f.jsName;q.cssName=q.css||f.cssName}a.isRoot||(f.parentObj=b);f.id=k;f.cssRootNode=d;f.cssTopNode=g;f.lastV={}}"data"!=k&&new i(b[k],NF.util.object.clone(a),l+"_",d,g,e)}}this.getStyleDefs=function(){var b={},a,c={data:{format:{type:"color",defVal:"rgba(0,0,0,1)",left:"rgba(",right:")"},cssName:"background-color",header:!0,isColor:!0,cssTrans:1,m:[1,3]},Red:{data:{format:{type:"int",defVal:0,right:",",range:{min:0,max:255}}}},Green:{data:{format:{type:"int",defVal:0,right:",",range:{min:0,max:255}}}},Blue:{data:{format:{type:"int",defVal:0,right:",",range:{min:0,max:255}}}},Alpha:{data:{format:{type:"float",defVal:"1",range:{min:0,max:1}}}}};b.transition={data:{cssName:"transition",vendorSpecific:1}};b.width={data:{format:{type:"float",alt:{auto:1,inherit:1},unit:"px",units:["px","%"],dInc:1,sDec:0,range:{min:0}},cssName:"width",cssTrans:1,m:2}};b.height={data:{format:{type:"float",alt:{auto:1,inherit:1},unit:"px",units:["px","%"],dInc:1,sDec:0,range:{min:0}},cssName:"height",cssTrans:1,m:2}};b.top={data:{format:{type:"float",alt:{auto:1,inherit:1},unit:"px",units:["px","%"],dInc:1,sDec:0},cssName:"top",cssTrans:1,m:2}};b.left={data:{format:{type:"float",alt:{auto:1,inherit:1},unit:"px",units:["px","%"],dInc:1,sDec:0},cssName:"left",cssTrans:1,m:2}};b.right={data:{format:{type:"float",alt:{auto:1,inherit:1},unit:"px",units:["px","%"],dInc:1,sDec:0},cssName:"right",cssTrans:1,m:2}};b.bottom={data:{format:{type:"float",alt:{auto:1,inherit:1},unit:"px",units:["px","%"],dInc:1,sDec:0},cssName:"bottom",cssTrans:1,m:2}};b.backgroundColor=NF.u.object.clone(c);b.opacity={data:{format:{type:"float",defVal:"1",range:{min:0,max:1}},cssName:"opacity",cssTrans:1,m:3,cd:1}};b.backgroundImage={data:{format:{type:"string",alt:{none:1,inherit:1},left:"url(",right:")",defVal:"http://"},noTween:!0,cssName:"background-image",isImage:!0,m:[0,3]}};b.backgroundSize={data:{format:{type:"string",defVal:"auto",select:["auto","cover","contain"]},cssName:"border-size",noTween:!0,cssName:"background-size",dualHeader:!0,cssTrans:1,m:3},Width:{data:{format:{type:"float",defVal:"auto",unit:"px",units:["px","%"],alt:{auto:1},right:" ",range:{min:0},dInc:1,sDec:0}}},Height:{data:{format:{type:"float",defVal:"auto",unit:"px",units:["px","%"],alt:{auto:1},range:{min:0},dInc:1,sDec:0}}}};b.backgroundRepeat={data:{format:{type:"string",defVal:"repeat",select:["repeat","repeat-x","repeat-y","no-repeat","inherit"]},noTween:!0,cssName:"background-repeat",m:3}};b.backgroundPosition={data:{format:{},cssName:"background-position",header:!0,cssTrans:1,m:3},X:{data:{format:{type:"float",alt:{center:1,left:1,right:1},unit:"px",units:["px","%"],dInc:1,sDec:0,right:" "}}},Y:{data:{format:{type:"float",alt:{center:1,top:1,bottom:1},unit:"px",units:["px","%"],dInc:1,sDec:0}}}};b.background={data:{format:{type:"gradient"},cssName:"background",header:!0,m:3},angle:{data:{format:{right:", "}}},stopN:{data:{multiQty:!0,format:{},header:!0},color:{data:{format:{type:"color",defVal:"rgba(0,0,0,1)",left:"rgba(",right:")"},header:!0,isColor:!0},Red:{data:{format:{type:"int",right:","}}},Green:{data:{format:{type:"int",right:","}}},Blue:{data:{format:{type:"int",right:","}}},Alpha:{data:{format:{type:"float",defVal:"1"}}}},location:{data:{format:{type:"int",unit:"%"}}}}};b.transformOrigin={data:{format:{},cssName:"transform-origin",vendorSpecific:!0,header:!0,cssTrans:1,m:4},X:{data:{format:{type:"int",alt:{center:1,left:1,right:1,top:1,bottom:1},unit:"px",units:["px","%"],right:" "}}},Y:{data:{format:{type:"int",alt:{center:1,left:1,right:1,top:1,bottom:1},unit:"px",units:["px","%"]}}}};b.transform={data:{format:{type:"function"},voidDefs:1,cssName:"transform",cssName:"transform",vendorSpecific:!0,header:!0,isTransform:!0,cssTrans:1,m:4},scaleX:{data:{format:{type:"float",left:"scaleX(",right:")",range:{min:0}}}},scaleY:{data:{format:{type:"float",left:"scaleY(",right:")",range:{min:0}}}},scaleZ:{data:{format:{type:"float",defVal:"1",left:"scaleZ(",right:")",range:{min:0}},is3d:1}},rotate:{data:{format:{type:"float",unit:"deg",dInc:1,sDec:0,left:"rotate(",right:")"}}},rotateX:{data:{format:{type:"float",unit:"deg",dInc:1,sDec:0,left:"rotateX(",right:")"},is3d:1}},rotateY:{data:{format:{type:"float",unit:"deg",dInc:1,sDec:0,left:"rotateY(",right:")"},is3d:1}},rotateZ:{data:{format:{type:"float",unit:"deg",dInc:1,sDec:0,left:"rotateZ(",right:")"},is3d:1}},skewX:{data:{format:{type:"float",unit:"deg",dInc:1,sDec:0,left:"skewX(",right:")"}}},skewY:{data:{format:{type:"float",unit:"deg",dInc:1,sDec:0,left:"skewY(",right:")"}}},translateX:{data:{format:{type:"int",unit:"px",units:["px","%"],left:"translateX(",right:")"}}},translateY:{data:{format:{type:"int",unit:"px",units:["px","%"],left:"translateY(",right:")"}}},translateZ:{data:{format:{type:"int",unit:"px",units:["px","%"],left:"translateZ(",right:")"},is3d:1}}};b.transformStyle={data:{format:{type:"string",defVal:"flat",select:["flat","preserve-3d"]},cssName:"transform-style",noTween:!0,vendorSpecific:!0,m:4}};b.perspective={data:{format:{type:"int",unit:"px",units:["px","%"]},cssName:"perspective",vendorSpecific:!0,cssTrans:1,m:4}};b.perspectiveOrigin={data:{format:{},cssName:"perspective-origin",vendorSpecific:!0,header:!0,cssTrans:1,m:4},X:{data:{format:{type:"int",alt:{center:1,left:1,right:1,top:1,bottom:1},unit:"px",units:["px","%"],right:" "}}},Y:{data:{format:{type:"int",alt:{center:1,left:1,right:1,top:1,bottom:1},unit:"px",units:["px","%"]}}}};b.borderWidth={data:{format:{type:"int",unit:"px",range:{min:0}},cssName:"border-width",cssTrans:1,m:5},Top:{data:{format:{type:"int",unit:"px",range:{min:0}},cssName:"border-top-width",jsName:"borderTopWidth",cssTrans:1}},Right:{data:{format:{type:"int",unit:"px",range:{min:0}},cssName:"border-right-width",jsName:"borderRightWidth",cssTrans:1}},Bottom:{data:{format:{type:"int",unit:"px",range:{min:0}},cssName:"border-bottom-width",jsName:"borderBottomWidth",cssTrans:1}},Left:{data:{format:{type:"int",unit:"px",range:{min:0}},cssName:"border-left-width",jsName:"borderLeftWidth",cssTrans:1}}};a=b.borderColor=NF.u.object.clone(c);a.data.cssName="border-color";a.data.m=[1,5];b.borderStyle={data:{format:{type:"string",defVal:"solid",select:"none solid dashed dotted double groove ridge inset outset inherit".split(" ")},noTween:!0,cssName:"border-style",m:5}};b.borderRadius={data:{format:{type:"int",unit:"px",units:["px","%"],range:{min:0}},cssName:"border-radius",cssTrans:1,m:6},TopLeft:{data:{format:{type:"int",unit:"px",units:["px","%"],range:{min:0}},cssName:"border-top-left-radius",jsName:"borderTopLeftRadius",dualHeader:!0,cssTrans:1},Radius:{data:{format:{type:"int",unit:"px",units:["px","%"],range:{min:0},right:" "}}},Axis:{data:{format:{type:"int",unit:"px",units:["px","%"],range:{min:0}}}}},TopRight:{data:{format:{type:"int",unit:"px",units:["px","%"],range:{min:0}},cssName:"border-top-right-radius",jsName:"borderTopRightRadius",dualHeader:!0,cssTrans:1},Radius:{data:{format:{type:"int",unit:"px",units:["px","%"],range:{min:0},right:" "}}},Axis:{data:{format:{type:"int",unit:"px",units:["px","%"],range:{min:0}}}}},BottomRight:{data:{format:{type:"int",unit:"px",units:["px","%"],range:{min:0}},cssName:"border-bottom-right-radius",jsName:"borderBottomRightRadius",dualHeader:!0,cssTrans:1},Radius:{data:{format:{type:"int",unit:"px",units:["px","%"],range:{min:0},right:" "}}},Axis:{data:{format:{type:"int",unit:"px",units:["px","%"],range:{min:0}}}}},BottomLeft:{data:{format:{type:"int",unit:"px",units:["px","%"],range:{min:0}},cssName:"border-bottom-left-radius",jsName:"borderBottomLeftRadius",dualHeader:!0,cssTrans:1},Radius:{data:{format:{type:"int",unit:"px",units:["px","%"],range:{min:0},right:" "}}},Axis:{data:{format:{type:"int",unit:"px",units:["px","%"],range:{min:0}}}}}};b.boxShadow={data:{format:{type:"shadow",defVal:"5px 5px 0px 0px rgba(0,0,0,1)"},cssName:"box-shadow",header:!0,cssTrans:1,m:7},X:{data:{format:{type:"int",unit:"px",right:" "}}},Y:{data:{format:{type:"int",unit:"px",right:" "}}},Blur:{data:{format:{type:"int",unit:"px",right:" "}}},Spread:{data:{format:{type:"int",unit:"px",right:" "}}}};a=b.boxShadow.Color=NF.u.object.clone(c);delete a.data.cssName;delete a.data.m;delete a.data.cssTrans;b.clip={data:{format:{type:"clip",left:"rect(",right:")"},cssName:"clip",header:!0,cssTrans:1,m:10},Top:{data:{format:{type:"int",unit:"px",right:",",range:{min:0}}}},Bottom:{data:{format:{type:"int",unit:"px",right:",",range:{min:0}}}},Left:{data:{format:{type:"int",unit:"px",range:{min:0}}}},Right:{data:{format:{type:"int",unit:"px",right:",",range:{min:0}}}}};b.padding={data:{format:{type:"int",unit:"px",units:["px","%"],range:{min:0}},cssName:"padding",m:8},Top:{data:{format:{type:"int",unit:"px",units:["px","%"],range:{min:0}},cssName:"padding-top",jsName:"paddingTop"}},Right:{data:{format:{type:"int",unit:"px",units:["px","%"],range:{min:0}},cssName:"padding-right",jsName:"paddingRight"}},Bottom:{data:{format:{type:"int",unit:"px",units:["px","%"],range:{min:0}},cssName:"padding-bottom",jsName:"paddingBottom"}},Left:{data:{format:{type:"int",unit:"px",units:["px","%"],range:{min:0}},cssName:"padding-left",jsName:"paddingLeft"}}};b.margin={data:{format:{type:"float",alt:{auto:1,inherit:1},unit:"px",units:["px","%"],dInc:1,sDec:0},cssName:"margin",m:8},Top:{data:{format:{type:"float",alt:{auto:1,inherit:1},unit:"px",units:["px","%"],dInc:1,sDec:0},cssName:"margin-top",jsName:"marginTop"}},Right:{data:{format:{type:"float",alt:{auto:1,inherit:1},unit:"px",units:["px","%"],dInc:1,sDec:0},cssName:"margin-right",jsName:"marginRight"}},Bottom:{data:{format:{type:"float",alt:{auto:1,inherit:1},unit:"px",units:["px","%"],dInc:1,sDec:0},cssName:"margin-bottom",jsName:"marginBottom"}},Left:{data:{format:{type:"float",alt:{auto:1,inherit:1},unit:"px",units:["px","%"],dInc:1,sDec:0},cssName:"margin-left",jsName:"marginLeft"}}};b.fontSize={data:{format:{type:"float",alt:{inherit:1},unit:"px",units:["px","%","em"],range:{min:0},dInc:1,sDec:0},cssName:"font-size",cssTrans:1,m:9}};b.lineHeight={data:{format:{type:"float",alt:{normal:1,inherit:1},unit:"px",units:["px","%","em"],range:{min:0},dInc:1,sDec:0},cssName:"line-height",m:9}};a=b.color=NF.u.object.clone(c);a.data.cssName="color";a.data.m=[1,9];b.fontFamily={data:{format:{type:"string",defVal:"Arial",select:"Georgia, serif;Arial, Helvetica, sans-serif;Arial;Helvetica;sans-serif;Verdana;Courier New;Courier;Times New Roman;Georgia;serif;Tahoma;Impact;Cursive".split(";")},cssName:"font-family",noTween:!0,m:9}};b.fontStyle={data:{format:{type:"string",defVal:"normal",select:["normal","italic","oblique","inherit"]},cssName:"font-style",noTween:!0,m:9}};b.fontWeight={data:{format:{type:"string",defVal:"normal",select:["normal","bold","bolder","lighter","inherit"]},cssName:"font-weight",noTween:!0,m:9}};b.textDecoration={data:{format:{type:"string",defVal:"none",select:"none underline overline line-through blink inherit".split(" ")},cssName:"text-decoration",noTween:!0,m:9}};b.fontVariant={data:{format:{type:"string",defVal:"normal",select:["normal","small-caps","inherit"]},cssName:"font-variant",noTween:!0,m:9}};b.textAlign={data:{format:{type:"string",defVal:"left",select:["left","center","right","justify","inherit"]},cssName:"text-align",noTween:!0,m:9}};b.direction={data:{format:{type:"string",defVal:"ltr",select:["ltr","rtl","inherit"]},cssName:"direction",noTween:!0,m:9}};b.whiteSpace={data:{format:{type:"string",defVal:"normal",select:["normal","nowrap","pre","pre-line","interit"]},cssName:"white-space",noTween:!0,m:11}};b.letterSpacing={data:{format:{type:"int",alt:{normal:1,inherit:1},unit:"px"},cssName:"letter-spacing",m:9}};b.overflow={data:{format:{type:"string",defVal:"visible",select:["visible","hidden","scroll","auto","inherit"]},cssName:"overflow",noTween:!0,cd:1,m:11}};b.position={data:{format:{type:"string",defVal:"absolute",select:["absolute","relative","fixed","static","inherit"]},cssName:"position",noTween:!0,m:11}};b.zIndex={data:{format:{type:"int",alt:{auto:1,inherit:1},defVal:0},cssName:"z-index",cssTrans:1,m:11}};b.visibility={data:{format:{type:"string",defVal:"inherit",select:["visible","hidden","inherit"]},cssName:"visibility",noTween:!0,cd:1,m:11}};b.display={data:{format:{type:"string",defVal:"block",select:["none","block","inherit"]},cssName:"display",noTween:!0,cd:1,m:11}};b.cssFloat={data:{format:{type:"string",defVal:"none",select:["none","left","right","inherit"]},cssName:"float",noTween:!0,m:11}};b.clear={data:{format:{type:"string",defVal:"none",select:["none","both","left","right","inherit"]},cssName:"clear",noTween:!0,m:11}};b.cursor={data:{format:{type:"string",defVal:"default",select:"auto default pointer progress help text move wait inherit".split(" ")},cssName:"cursor",noTween:!0,m:11}};b.userSelect={data:{format:{type:"string",defVal:"default",select:["none","text","all","element"]},cssName:"user-select",vendorSpecific:!0,noTween:!0,m:11}};b.pointerEvents={data:{format:{type:"string",defVal:"auto",select:"auto none visiblePainted visibleFill visibleStroke visible painted fill stroke all inherit".split(" ")},cssName:"pointer-events",noTween:!0,cd:1,m:11}};b.script={data:{format:{type:"string"},cssName:"eval",noTween:!0,SV:1,isCode:!0,onInit:!0}};b.innerHTML={data:{format:{type:"string"},isAfter:1,cssName:"content",noTween:!0,SV:1,isContent:!0,onInit:!0}};b.onKey={data:{format:{type:"string"},cssName:"eval",noTween:!0,SV:1,isCode:!0,onInit:!0}};b.onFrames={data:{format:{type:"string"},cssName:"call",noTween:!0,SV:1,isCode:!0,onFrames:!0}};i(b);return b};this.getDefaultStyleValue=function(b){var a=b.data.format.defVal,b=b.data.format.type;return null!=a?a:"int"==b||"float"==b?0:""}};_NF.prototype.stageData=function(i){var b=this;b.stage=i;b.events={};b.addEvent=function(a){var c=a.nfUid;if(!b.events[c]){var d;(b.events[c]=new b.event(b,a)).actType={className:0<(d=c.search("_nfClass_"))?"."+c.substring(d+9):!1,isChildren:c.match("_children"),base:a=0<(d=c.search("_"))?c.substring(0,d):c,uid:c};i.act[a]||(i.act[a]={});i.act[a][c]={}}return b.events[c]};b.event=function(a,b){var d=this;d.params=b||{};d.parentObj=a;d.timelines={};d.addTimeline=function(a,b,c){var i,f=b?d.params.nfUid+"$"+b.nfUid:a.nfUid;if(!(i=d.timelines[f]))i=d.timelines[f]=new d.timeline(d,b||a),i.uid=a.nfUid+(b?NaN+d.params.nfUid:""),i.threadUid=b?b.nfUid:"",a.nfTimelines=a.nfTimelines||{},a.nfTimelines[b?f:d.params.nfUid]=i,c&&(c.threads[b.nfUid]=i,i.threadOwner=c),!b&&d.params.nfUid.match("_")&&(i.ownsThreads=!0),i.isDefReady="ready"==i.parentObj.params.nfUid&&i.eventElement==d.parentObj.stage.root;return i};d.timeline=function(a,b){function d(a){v&&(v(u),u=null);clearTimeout(i);i=null;f.startTime=null;a||f.setPlayStatus()}function c(a){for(var b in f.spawns)f.spawns[b][a]()}var f=this;f.parentObj=a;f.eventElement=b;f.uid;f.threadUid;f.threadOwner;f.threads={};f.ownsThreads;f.elements={};f.framePos={cur:0,fps:60,max:0};f.options={};f.startTime;f.rev;f.stopLoop;f.inPlay;f.spawns={};var i,s=window.requestAnimationFrame,v=window.cancelAnimationFrame,u;f.setPlayStatus=function(a){var b=f.parentObj,d=b.parentObj.stage.inPlay,c=b.params.nfUid+(b=f.eventElement).nfUid;a?d[c]=f:delete d[c];var e=!1;if(!a)for(var g in d)if(d[g].eventElement==f.eventElement){e=!0;break}if(!e)NF.u.d[(a?"a":"r")+"C"](f.eventElement,"nfInPlay");a&&f.options.pauseOnOver&&(b=b.nfPoo=b.nfPoo||{},b[c]=f);f.inPlay=a};f.run=function(a){var b,e=f.framePos;if(null==a){if(f.isPlaying())return;f.framePos.max=0;for(var g in f.elements)for(var p in f.elements[g].styles)for(var m in b=f.elements[g].styles[p].keys)b[m].frame>f.framePos.max&&(f.framePos.max=b[m].frame);e.cur>=e.max&&(e.cur=f.rev?e.max:0);f.setStartTime();b={isPlay:!0};f.setPlayStatus(!0);NF.u.e.fire(f,"playStart",{})}g=f.startTime;p=Date.now()-g.diff;b=f.setTime((f.rev?g.offset-(Date.now()-g.now):p)/1E3,b,e.max);NF.u.e.fire(f,"playFrame",{timeline:f});!f.rev&&b>=e.max||f.rev&&0>=b?(d(),f.options.loop&&!f.stopLoop?f.run():(NF.u.e.fire(f,"playEnd",{}),c("stop")),f.stopLoop=!1):s?u=s(f.run,f.parentObj.parentObj.stage.root):i=window.setTimeout(function(){f.run(!0)},1E3/e.fps)};f.play=function(){f.rev&&(f.pause(!0),f.rev=null);f.run()};f.reverse=function(a){f.rev||(f.pause(!0),f.rev=!0);a&&(f.framePos.cur=99999999);f.run()};f.pause=function(a){f.isPlaying()&&(a||f.moveElements({isPause:1}),d(!0),c("stop"))};f.stop=function(){d();f.framePos.cur&&f.setTime(0,{reset:1});c("stop");NF.u.e.fire(f,"stop",{timeline:f})};this.setStartTime=function(){var a=1E3*f.getTime(f.framePos.cur),b=Date.now();f.startTime={now:b,offset:a,diff:b-a}};f.isPlaying=function(){if(i||u)return!0};f.atEnd=function(){return f.framePos.cur>=f.framePos.max};f.addElement=function(a){a.nfUid||(a.nfUid="NodeFire_"+Date.now());if(!f.elements[a.nfUid]){f.elements[a.nfUid]=new f.element(f,a);var b;try{b=a instanceof HTMLElement}catch(d){b=1==a.nodeType}b?f.elements[a.nfUid].isDomElement=!0:f.elements[a.nfUid].setRule()}return f.elements[a.nfUid]};f.setTime=function(a,b,d){a=f.getFrame(a);null!=d&&a>=d&&(a=d);0>a&&(a=0);f.setFramePos(a,b);f.threadOwner&&NF.mini&&f.threadOwner.setFramePos(a,b);return a};f.getFrame=function(a){return Math.round(f.framePos.fps*a)};f.getTime=function(a){return a/f.framePos.fps};f.setFramePos=function(a,b){if(a!=f.framePos.cur||b){f.framePos.cur=a;var d=f.moveElements(b);NF.u.e.fire(f,"frameChange",{timeline:f,changed:d})}};f.moveElements=function(a){var b,d;for(d in f.elements){var c=f.moveElement(f.elements[d],null,a);c&&(b=b||{},b[d]=c)}return b};f.moveElement=function(a,b,d){if(b=f.getElementStyleChanges(a,b,d)){for(var c in b.topChanged){var e=b.topChanged[c].styleDefNode;e.data.SV||a.apply(e)}d||a.applyTransition();(d||{}).isPlay&&!f.ownsThreads&&a.spawn.play();NF.u.e.fire(f,"elementChanged",{elm:a})}return b};f.getElementStyleChanges=function(a,b,d){var c,e={},a=a.styles,f;for(f in a)if(!(b&&a[f].styleDefNodeTop!=b.data.cssTopNode)){var g=a[f].applyPos(d);if(g){c=c||{};var w=g.styleDefNodeTop.data.uid;c[w]=a[w];e[f]=g;e[w]=a[w]}}if(c)return{topChanged:c,allChanged:e}};f.element=function(a,b){function d(a){c.styles[a.data.uid]||(c.styles[a.data.uid]=new c.style(c,a));for(var b in a)"data"!=b&&new d(a[b])}var c=this;c.stage=(c.event=(c.timeline=c.parentObj=a).parentObj).parentObj.stage;c.domElement=b;c.isDomElement;c.styles={};c.rule=b.rule;c.ruleR;c.options={};b.nfTrans=b.nfTrans||{};c.addStyle=function(a){var b=a.data.uid;c.styles[b]||d(a.data.cssTopNode);return c.styles[b]};c.setRule=function(){var a=c.rule,b,d=(b=c.timeline.threadUid)?"."+b:"";b=c.stage.editor?".nfEditor":c.stage.BF?".nfDesigner":".nfPublished";a=c.domElement.nfUid.match("CR_")?"#"+c.stage.root.id+"."+c.stage.root.nfUid+b+" "+d+a:a.replace("[stageID]"+(d?" ":""),"."+c.stage.root.nfUid+b+(d?" "+d:""));c.ruleR=a};c.applyTransition=function(){var a=c.domElement,b=a.nfTrans,d="",e;for(e in b)if(d+=d?",":"",b[e].val)d+=b[e].val;else var f=b[e].tl.rev,g={_in:"out",_out:"in"},j=b[e].sKey.params.ease,g="cubic-bezier("+((j?NF.u.a.ease["css_"+(f?g["_"+j.direction]||j.direction:j.direction)][j.type]:"0.250, 0.250, 0.750, 0.750")||"0.250, 0.250, 0.750, 0.750")+")",j=(Date.now()-b[e].tl.startTime.diff)/1E3,h=b[e].tl.getTime(b[e][f?"sKey":"eKey"].frame),d=d+(b[e].val=b[e].cssName+" "+(f?j-h:h-j)+"s "+g);if(a.nfTransLV!=d){b=c.stage.styleDefs.transition.data.vendorSpecific;if(c.rule)c.stage.applyCSS(c.ruleR,b.cssName,b.jsName,d,null,c.domElement.nfUid+c.timeline.threadUid);else{f=c.getTargetElms();for(e=0;e<f.length;e++)f[e].style[b.jsName]=d}a.nfTransLV=d}};c.apply=function(a,b,d){var e=c.buildValue(a);if(null!=e){var f=c.styles[a.data.uid],g;f.removeValue&&(b&&d&&(g=!0),f.removeValue=!1,e="");a.data.header&&(a.data.lastV[c.domElement.nfUid]={v:f.value=!e?null:e});if(!g&&!c.timeline.ownsThreads)try{var j=f.styleDefNodeRoot.data,h=j.vendorSpecific.jsName;if(c.isDomElement)for(var i=f.isDef?[c.domElement]:c.getTargetElms(),k=0;k<i.length;k++)i[k].style[h]=e;else{var t=c.ruleR,b=e,l=c.domElement.nfUid;if(j.isAfter)var z=e.match(/url\(|counter/i)?"":'"',t=t+(t.match(/\:before|\:after/i)?"":">.nfB:after"),b=z+e.replace(/\"/g,'"')+z,l=l+"_after",h="content";c.stage.applyCSS(t,j.vendorSpecific.cssName,h,b,null,l+c.timeline.threadUid)}}catch(A){}g||NF.u.e.fire(c,"applyStyle",{style:f,element:c.domElement})}for(k in a)"data"!=k&&a[k].data.cssName&&c.apply(a[k],!0,e)};c.getTargetElms=function(){var a=[],b=c.options.target;if(b&&b.active){var d=b.evtParent?c.timeline.eventElement:c.domElement;b.incParent&&a.push(d);b=NF.u.d.gEBCN(d,"nfA"+(b.cName?" "+b.cName:""),null,b.chOnly,"nfSpawn");for(d=0;d<b.length;d++)a.push(b[d])}else a=[c.domElement];return a};c.buildValue=function(a,b,d){b||(b={});var e=a.data.format.left||"",f=c.styles[a.data.uid],g=!1,j=NF.u.browser.ie8Down;if(NF.u.browser.no3d&&a.data.is3d||j&&"Alpha"==a.data.id)e="",g=1;else{if(a.data.isColor&&"transparent"==f.value)return"transparent";j&&a.data.isColor&&(e="rgb(",a.Blue.data.format.right="");var h;a:{if(a.data.dualHeader)for(h in a)if("data"!=h&&(j=c.styles[a[h].data.uid],null!=j.value&&!j.removeValue)){h=!0;break a}h=void 0}if(!a.data.header&&!h){var i,j=f.value;if(null!=j&&!f.removeValue)e+=j,b.hit=!0;else{f.removeValue&&(b.removeHit=!0);d&&(f.removeValue=!1);var k;if(null!=(k=a.data.lastV[c.domElement.nfUid])&&null!=k.v)i=k.u,b.hit=!0,f.removeValue=!1,e+=k.v;else{var t;if((t=a.data.parentObj)&&t.data.voidDefs)return"";e+=j=NF.stageDataManager.getDefaultStyleValue(a)}}if(!a.data.format.alt||!a.data.format.alt[j])e+=i||f.unit||a.data.format.unit||""}if(!a.data.dualHeader||h)for(var l in a)"data"!=l&&!a[l].data.cssName&&(e+=c.buildValue(a[l],b,!0))}if(d||b.hit||b.removeHit)return!d&&b.removeHit&&!b.hit?"":e+(g?"":a.data.format.right||"")};c.spawn=new function(a){function b(){for(var a=0;a<(c.opts.qty||1);a++)for(var f=c.element,g=f.getTargetElms(),h=0;h<g.length;h++){var i=g[h].cloneNode(!0),k=g[h].parentNode;if(c.opts.order){var l="behind"==c.opts.order?g[h]:NF.u.d.getSibling(g[h],"next","nfA",null,function(a){return!a.nfSpawn});l?k.insertBefore(i,l):k.appendChild(i)}else k.appendChild(i);i.nfSpawn=c;NF.u.d.aC(i,"nfSpawn");k=new f.event.timeline(f.event,f.timeline.eventElement);NF.u.e.addListener(k,["playEnd","stop"],d);var i=k.addElement(i),n;for(n in f.styles){var p=f.styles[n],l=i.addStyle(p.styleDefNode);l.options=p.options;var p=p.keys,r;for(r in p){var q=p[r];l.addKey(q.value,{uid:q.params.uid,unit:q.unit,framePos:q.frame,ease:q.params.ease},q.params.uid,q.vFunc)}}f.timeline.rev?k.reverse(!0):k.play()}e=setTimeout(function(){b()},c.opts.interval||100)}function d(a){var a=a.target,b;for(b in a.elements){var c=a.elements[b].domElement;c.parentNode.removeChild(c)}}var c=this;c.element=a;c.opts;var e;c.play=function(){var a=c.element;e||(c.opts=a.options.spawn,c.opts&&c.opts.active&&b(),a.timeline.spawns[a.domElement.nfUid]=c)};c.stop=function(){clearTimeout(e);e=null;var a=c.element;delete a.timeline.spawns[a.domElement.nfUid]}}(c);c.style=function(a,b){function d(a,b,e,f,g){try{return a.v(c.stage.my,b,c,{isReset:f.reset,isInit:g&&!f.reset,isPlay:f.isPlay,isPause:f.isPause})}catch(h){return null}}var c=this;c.stage=(c.event=(c.timeline=(c.element=c.parentObj=a).parentObj).parentObj).parentObj.stage;c.framePos=c.timeline.framePos;c.styleDefNode=b;c.styleDefNodeRoot=b.data.cssRootNode;c.styleDefNodeTop=b.data.cssTopNode;c.keys={};c.my={};c.value;c.unit;c.vFuncStr;c.isDef;c.removeValue;c.options={};c.addKey=function(a,b,d,e){b=b||{};d=d||"_"+(b.framePos||0);c.keys[d]||(c.keys[d]=new c.key(c,b));c.keys[d].setValue(a,b.unit,b.applyPrevValue,e);return c.keys[d]};c.hasPreviousKey=function(a){for(var b in c.keys)if("def"!=b&&c.keys[b].frame<=a)return c.keys[b]};c.getNextKey=function(a){var b,d,e;for(e in c.keys)if(c.keys[e].frame>a&&(null==d||c.keys[e].frame<d))d=c.keys[e].frame,b=c.keys[e];return b};c.hasKey=function(a){for(var b in c.keys)if(!(a&&"def"==b))return!0};c.applyPos=function(a){if(c.hasKey()){var b=a||{},e=c.styleDefNode.data,f=c.parentObj,g=f.domElement.nfUid,h=c.framePos.cur,i={},k={},l;for(l in c.keys)if(c.keys[l].frame<=h){if(!i.key||i.key.isDef||i.diff>h-c.keys[l].frame)i={key:c.keys[l],diff:h-c.keys[l].frame}}else if(!k.key||k.diff>c.keys[l].frame-h)k={key:c.keys[l],diff:c.keys[l].frame-h};if(!i.key||i.key.isDef&&null==i.key.value&&!i.key.valSet)l=e.lastV[g],i.key={value:null!=l?l.v:null,unit:null!=l?l.u:null,params:{},isDef:!0,sim:1};if(!k.key||i.key.isDef)k.key=i.key;i.key.valSet=!1;var m=c.lKey!=i.key&&!i.key.sim;l=m||a;a=i.key.vFunc?d(i.key.vFunc,i.key,h,b,m,!0):i.key.value;m=k.key.vFunc&&!e.onInit?d(k.key.vFunc,k.key,null,b):k.key.value;if(NF.stageManager.transSupport&&c.options.at){var n=c.styleDefNodeRoot.data,p=f.domElement.nfTrans;l?delete p[n.uid]:(c.timeline.rev?m=a:a=m,p[n.uid]||(p[n.uid]={type:b,sKey:i.key,eKey:k.key,cssName:n.vendorSpecific.cssName,tl:c.timeline}))}h=e.noTween||i.key.unit!=k.key.unit?a:NF.u.a.tween({startVal:a,endVal:m,duration:k.key.frame-i.key.frame,time:h-i.key.frame,ease:i.key.params.ease||{direction:"linear",type:"_"}});"int"==e.format.type&&(null!=h&&!isNaN(h))&&(h=Math.round(h));l&&(c.vFuncStr=i.key.vFunc?i.key.value:null);b.reset||(c.lKey=i.key);if(l||c.value!=h||c.unit!=i.key.unit||c.stage.BF&&c.hasKey(!0)){if(e.isContent&&(b=f.domElement,f.isDomElement&&(f=b.nfContentElm)))f.innerHTML=a||"";c.unit=i.key.unit;c.removeValue=null==h&&null!=c.value&&!e.header?!0:!1;e.lastV[g]={v:h,u:c.unit,c:c.vFuncStr,s:c};c.isDef=i.key.isDef;c.value=h;return c}}};c.key=function(a,b){var c=this;c.params=b;c.parentObj=a;c.frame=b.framePos;c.value;c.prevValue;c.unit;c.prevUnit;c.isDef="def"==b.uid?!0:null;c.vFunc;c.valSet;c.my={};this.setValue=function(a,b,d,e){d&&(c.prevValue=c.value,c.prevUnit=c.unit);if(e)c.vFunc=e;else if((a+"").match("v:function"))try{c.vFunc=eval("({"+a+"})")}catch(f){c.vFunc={v:function(){}},NF.stageManager.debug.logError(f,c.parentObj.stage)}else c.vFunc=null;c.value=a;c.unit=b;c.valSet=!0}}}}}}};